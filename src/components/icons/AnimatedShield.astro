---
// Animated shield icon with pulse/glow effect for guarantee sections
interface Props {
  class?: string;
}

const { class: className = "" } = Astro.props;
---

<div class:list={["animated-shield", className]}>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="shield-icon"
  >
    <!-- Shield body -->
    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" class="shield-body" />
    <!-- Checkmark -->
    <path d="M9 12l2 2 4-4" class="shield-check" />
  </svg>
  
  <!-- Glow ring -->
  <div class="glow-ring"></div>
</div>

<style>
  .animated-shield {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .shield-icon {
    position: relative;
    z-index: 2;
    animation: float 3s ease-in-out infinite;
  }

  .shield-body {
    animation: shield-pulse 2s ease-in-out infinite;
    transform-origin: center;
  }

  .shield-check {
    stroke-dasharray: 20;
    stroke-dashoffset: 20;
    animation: check-draw 1.5s ease-out forwards, check-pulse 2s ease-in-out infinite 1.5s;
  }

  .glow-ring {
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    background: radial-gradient(
      circle,
      rgba(251, 191, 36, 0.4) 0%,
      rgba(251, 191, 36, 0.1) 50%,
      transparent 70%
    );
    animation: glow 2s ease-in-out infinite;
    z-index: 1;
  }

  :global(.dark) .glow-ring {
    background: radial-gradient(
      circle,
      rgba(251, 191, 36, 0.3) 0%,
      rgba(251, 191, 36, 0.08) 50%,
      transparent 70%
    );
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-2px);
    }
  }

  @keyframes shield-pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.9;
      transform: scale(1.02);
    }
  }

  @keyframes check-draw {
    to {
      stroke-dashoffset: 0;
    }
  }

  @keyframes check-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  @keyframes glow {
    0%, 100% {
      opacity: 0.6;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.15);
    }
  }
</style>

